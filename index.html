<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Keystone Web Solutions offers custom website design, responsive web development, e-commerce solutions, SEO optimization, and digital marketing services to help businesses establish a strong online presence." />
    <title>
      Keystone Web Solutions | Pennsylvania Web Design & Development
    </title>

    <link rel="canonical" href="https://keystonewebsolutions.com/" />

    <!-- Preconnect to Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Google Tag Manager -->
    <!-- Initialize dataLayer -->
    <script>
      window.dataLayer = window.dataLayer || [];
      window.dataLayer.push({
        event: 'pageview',
        page_url: window.location.href,
      });

      // Delayed GTM Load (3 seconds for better performance)
      setTimeout(function () {
        if (!window.gtmLoaded) {
          // Prevents multiple GTM loads
          (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
            var f = d.getElementsByTagName(s)[0],
              j = d.createElement(s),
              dl = l !== 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
            window.gtmLoaded = true; // Prevents duplicate loading
          })(window, document, 'script', 'dataLayer', 'GTM-MBN9LQQQ');
        }
      }, 3000); // Delay GTM by 3 seconds
    </script>
    <!-- End Google Tag Manager -->

    <!-- Inline Critical FCP CSS -->
    <style>
      .description {
        margin: 2rem 0;
        font-size: 1rem;
        font-weight: 300;
        letter-spacing: 2px;
      }
    </style>

    <!-- CSS Styling -->
    <link rel="stylesheet" href="CSS/styles.css" />
    <link rel="stylesheet" href="CSS/navbar.css" />
    <link rel="stylesheet" href="CSS/mobile.css" />
    <link rel="stylesheet" href="CSS/footer.css" />

    <!-- Load Google Fonts Asynchronously with Swap -->
    <link
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue:wght@400&family=Exo:wght@200;300;400;500;600;700&display=swap"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'" />
    <noscript>
      <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Bebas+Neue:wght@400&family=Exo:wght@200;300;400;500;600;700&display=swap" />
    </noscript>

    <!-- Non-preloaded Google Fonts for Entire Website -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue:wght@400&family=Exo:wght@200;300;400;500;600;700&display=swap" />

    <!-- Preload Sidebar Hero Logo -->
    <link
      rel="preload"
      as="image"
      href="https://storage.googleapis.com/background-vid/Logo/keystone-future-logo-hero.webp"
      type="image/webp"
      importance="high" />

    <!-- Standard Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="https://storage.googleapis.com/background-vid/Favicon/32x32.png" />

    <!-- Alternative for Older Browsers (ICO format) -->
    <link
      rel="shortcut icon"
      href="https://storage.googleapis.com/background-vid/favicon.ico" />

    <!-- Apple Touch Icon (For iOS Devices) -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="https://storage.googleapis.com/background-vid/Favicon/180x180.png" />

    <!-- Android Chrome (High Resolution) -->
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="https://storage.googleapis.com/background-vid/Favicon/192x192.png" />
  </head>

  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-MBN9LQQQ"
        height="0"
        width="0"
        style="display: none; visibility: hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager -->

    <!-- NAVBAR / MOBILE MENU PLACEHOLDER (dynamically loaded via Javascript) -->
    <div id="navbar-container"></div>

    <!-- PROGRESS SCROLL BAR -->
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- POPUP -->
    <div class="popup" id="popup">
      <p style="color: black">
        Before you leave, be sure to submit your info for a free instant quote!
      </p>
      <form
        id="info-form"
        action="https://formspree.io/f/xbldynko"
        method="POST">
        <!-- Name -->
        <label for="name">Name:</label>
        <input
          type="text"
          id="name-1"
          name="name"
          placeholder="Your Name"
          required />

        <!-- Email -->
        <label for="email">Email:</label>
        <input
          type="email"
          id="email-1"
          name="email"
          placeholder="Your Email"
          required />

        <!-- Phone Number -->
        <label for="phone">Phone Number:</label>
        <input
          type="tel"
          id="phone-1"
          name="phone"
          placeholder="Your Phone Number"
          required />

        <!-- Message -->
        <label for="message">Message:</label>
        <textarea
          id="message-1"
          name="message"
          placeholder="Your Message"
          rows="4"
          required></textarea>

        <!-- Submit Button -->
        <button type="submit">GET QUOTE</button>
      </form>
      <button id="close-popup">Close</button>
    </div>

    <!-- PHONE NUMBER @ 935PX WIDTH -->
    <div
      class="responsive-phone-num"
      style="
        position: fixed;
        top: 10px;
        left: 5px;
        background-color: rgba(18, 24, 39, 0.8);
        color: white;
        padding: 5px 8px;
        border-radius: 4px;
        font-weight: 400;
        font-size: 18px !important;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        display: none;
      ">
      <a
        href="tel:7173069803"
        style="
          color: white;
          text-decoration: none;
          display: flex;
          align-items: center;
          font-size: 18px !important;
        ">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="10"
          height="10"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          style="margin-right: 4px">
          <path
            d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
        </svg>
        717-306-9803
      </a>
    </div>

    <!-- FIXED SIDEBAR -->
    <!-- <section class="fixed-sidebar">
      <div class="sidebar">
        <div class="sidebar-content">
          <img
            src="https://storage.googleapis.com/background-vid/Logo/bgwb-lines-logo.webp"
            alt="Keystone Logo"
            class="responsive-logo"
            width="185"
            height="240"
            style="width: 90% !important" />

          <h1 class="company-name">KEYSTONE</h1>
          <h2 class="subheading">WEB SOLUTIONS</h2>
          <h2 class="subheading">DIGITAL DESIGN</h2>
          <h2 class="subheading">SEO STRATEGIES</h2>
          <h2 class="subheading">RESPONSIVE DESIGN</h2>
          <h2 class="subheading">WEB CONSULTING</h2>
          <p class="description">
            Delivering the most responsive and user-friendly designs to create
            stunning and functional websites tailored to your business needs.
          </p>
          <p class="call-now">Call now:</p>
          <div class="phone-number">
            <a href="tel:+1 717-306-9803">717-306-9803</a>
          </div>
        </div>
      </div>
    </section> -->

    <!-- Mobile Background -->
    <div class="mobile-background"></div>

    <!-- MAIN CONTENT -->
    <section class="main-content" id="main-content">
      <div class="section-container">
        <!-- Line Graph Container added here -->
        <div id="line-graph-container" class="line-graph-container"></div>

        <!-- Welcome Header -->
        <div class="section">
          <div class="title-wrapper">
            <h2>Your partner in</h2>
            <h2 class="web-dev" data-text="web development">web development</h2>
          </div>
          <p>
            Join us in making the web a more visually enjoyable place. Let us
            help you create a strong, professional online presence.
          </p>
        </div>

        <!-- Cards Section with Navigation -->
        <div class="card-navigation">
          <div class="nav-menu">
            <div class="nav-item active" data-target="nav-card-1">
              Fast Websites
            </div>
            <div class="nav-item" data-target="nav-card-2">
              Custom Solutions
            </div>
            <div class="nav-item" data-target="nav-card-3">Business Focus</div>
            <div class="nav-item" data-target="nav-card-4">Results</div>
          </div>

          <div class="section-cards">
            <!-- Value Proposition -->
            <div class="card active" id="nav-card-1">
              <h2>Fast-Loading Websites for Businesses</h2>
              <p>
                Navigating the digital landscape shouldn't be complicated or
                expensive. We specialize in crafting user-friendly websites with
                lightning-fast performance and flawless responsiveness. Let us
                streamline your online presence, freeing you to focus on the
                aspects of your business that matter most.
              </p>
              <!-- Site Health Gauges -->
              <div class="site-health-container">
                <h3 class="meter-title">Site Health (via Semrush)</h3>
                <div class="gauges-wrapper">
                  <div class="gauge-item">
                    <div id="our-site-chart" class="gauge-chart"></div>
                    <div class="gauge-label">Our Site</div>
                  </div>
                  <div class="gauge-item">
                    <div id="competitor-chart" class="gauge-chart"></div>
                    <div class="gauge-label">Top 10% of Semrush Sites</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="card" id="nav-card-2">
              <h2>Our Commitment to Custom Web Solutions</h2>
              <p>
                We are passionate about building websites that are as functional
                as they are beautiful. Our mission is to empower businesses to
                establish a strong online presence that withstands industry
                changes and fosters long-term growth. A professionally designed
                website is an investment that pays you back by attracting more
                customers, boosting credibility, and driving measurable results.
                Together, we will achieve your online ambitions and set your
                business up for sustained success.
              </p>
            </div>

            <!-- Benefits for clients -->
            <div class="card" id="nav-card-3">
              <h2>Focus on Your Business—We'll Handle the Website</h2>
              <p>
                Running a business is a full-time job—managing your website
                doesn't have to be. In today's competitive online market, where
                consumers increasingly depend on digital interactions, having a
                strong online presence is not just an advantage—it's a
                worthwhile investment in your business's success. From
                eye-catching visuals to seamless functionality, we provide
                end-to-end web solutions that align with your brand and deliver
                an effortless user experience. Our affordable pricing ensures
                your budget works as hard as you do.
              </p>
            </div>
            <!-- Results and standards -->
            <div class="card" id="nav-card-4">
              <h2>Flawless Websites That Drive Results</h2>
              <p>
                We don't just build websites—we create digital experiences that
                generate measurable results. Whether it's increased engagement,
                higher conversion rates, or better search engine rankings, our
                designs are engineered to support your business goals and give
                you a competitive edge. Quick load times are key to retaining
                visitors, encouraging longer site visits, and turning them into
                loyal return users. A fast-loading website not only improves
                user satisfaction but also strengthens your brand's reputation.
              </p>

              <!-- Numbers and Labels -->
              <div class="standards-row">
                <div class="standard-item">
                  <div class="circle-container">
                    <div class="circle">
                      <span class="counter" data-target="100">0</span>
                    </div>
                  </div>
                  <p>Performance</p>
                </div>
                <div class="standard-item">
                  <div class="circle-container">
                    <div class="circle">
                      <span class="counter" data-target="100">0</span>
                    </div>
                  </div>
                  <p>Accessibility</p>
                </div>
                <div class="standard-item">
                  <div class="circle-container">
                    <div class="circle">
                      <span class="counter" data-target="100">0</span>
                    </div>
                  </div>
                  <p>Best Practices</p>
                </div>
                <div class="standard-item">
                  <div class="circle-container">
                    <div class="circle">
                      <span class="counter" data-target="100">0</span>
                    </div>
                  </div>
                  <p>SEO</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <style>
          /* Gauge Styles */
          .site-health-container {
            margin: 25px 0 0;
            text-align: center;
            width: 100%;
          }

          .meter-title {
            font-size: 16px;
            color: white;
            font-weight: 400;
          }

          .gauges-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: nowrap; /* Prevent wrapping on any screen size */
            min-width: 300px; /* Minimum width to keep gauges visible */
          }

          .gauge-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative; /* For absolute positioning of label */
            min-width: 120px; /* Minimum width to prevent compression */
            max-width: 160px; /* Maximum width to maintain consistency */
          }

          .gauge-chart {
            margin-top: 1rem;

            height: 90px;
            width: 160px;
          }

          .gauge-label {
            position: absolute;
            bottom: 5px;
            width: 100%;
            text-align: center;
            font-size: 14px;
            color: #aaa;
            margin-top: 0;
            white-space: nowrap; /* Prevents text from wrapping */
          }

          /* Responsive styles - adjust size but maintain layout */
          @media (max-width: 600px) {
            .gauges-wrapper {
              gap: 10px; /* Reduce gap on smaller screens */
            }

            .gauge-chart {
              height: 90px;
              width: 130px;
            }

            .gauge-item {
              min-width: 100px;
            }

            .gauge-label {
              font-size: 12px;
            }
          }

          /* For very small screens - scale down further but keep side by side */
          @media (max-width: 400px) {
            .gauge-chart {
              height: 110px;
              width: 110px;
            }

            .gauge-item {
              min-width: 90px;
            }
          }
        </style>
      </div>
      <!-- Logo banner -->
      <div class="logo-banner-container">
        <div class="logo-banner">
          <!-- First set of logos -->
          <div class="logo-group">
            <div class="logo-item">
              <img
                src="https://storage.googleapis.com/background-vid/Main%20Content/banner%20tools%20logos/gmp-logo.png"
                alt="Google Marketing Platform" />
            </div>
            <div class="logo-item">
              <img
                src="https://storage.googleapis.com/background-vid/Main%20Content/banner%20tools%20logos/netlify.png"
                alt="Netlify" />
            </div>
            <div class="logo-item">
              <img
                src="https://storage.googleapis.com/background-vid/Main%20Content/banner%20tools%20logos/semrushlogo.png?v=1"
                alt="SEMrush" />
            </div>
            <div class="logo-item">
              <img
                src="https://storage.googleapis.com/background-vid/Main%20Content/banner%20tools%20logos/stripe.png"
                alt="Stripe" />
            </div>
          </div>
          <!-- Duplicate logos for seamless scrolling -->
          <div class="logo-group">
            <div class="logo-item">
              <img
                src="https://storage.googleapis.com/background-vid/Main%20Content/banner%20tools%20logos/gmp-logo.png"
                alt="Google Marketing Platform" />
            </div>
            <div class="logo-item">
              <img
                src="https://storage.googleapis.com/background-vid/Main%20Content/banner%20tools%20logos/netlify.png"
                alt="Netlify" />
            </div>
            <div class="logo-item">
              <img
                src="https://storage.googleapis.com/background-vid/Main%20Content/banner%20tools%20logos/semrushlogo.png?v=1"
                alt="SEMrush" />
            </div>
            <div class="logo-item">
              <img
                src="https://storage.googleapis.com/background-vid/Main%20Content/banner%20tools%20logos/stripe.png"
                alt="Stripe" />
            </div>
          </div>
        </div>
      </div>

      <!-- Logo Banner Styles -->
      <style>
        .logo-banner-container {
          width: 100%;
          background-color: rgba(0, 0, 0, 0.7);
          overflow: hidden;
          padding: 20px 0;
          margin-top: 20px;
          border-top: 1px solid rgba(93, 173, 226, 0.3);
          border-bottom: 1px solid rgba(93, 173, 226, 0.3);
          margin-bottom: 2rem;
        }

        .logo-banner {
          display: flex;
          animation: scroll 30s linear infinite;
          width: max-content;
        }

        .logo-group {
          display: flex;
          align-items: center;
        }

        .logo-item {
          padding: 0 30px;
          display: flex;
          align-items: center;
        }

        .logo-item img {
          height: 40px;
          object-fit: contain;
          filter: grayscale(100%) brightness(1.5);
          transition: filter 0.3s ease;
        }

        .logo-item img:hover {
          filter: grayscale(0%) brightness(1.2);
        }

        @keyframes scroll {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }

        @media (max-width: 768px) {
          .logo-item {
            padding: 0 15px;
          }

          .logo-item img {
            height: 30px;
          }
        }
      </style>
    </section>

    <!-- SERVICES SECTION -->
    <section class="services-section" id="services-section">
      <div class="section-3">
        <h1 class="services-heading">OUR SERVICES</h1>
        <p class="p-hover">(Hover over a card below for more info)</p>
        <p class="p-mobile">(Tap a card for more info)</p>
      </div>
      <!-- Flipping Service Cards -->
      <div class="services">
        <!-- Service item 1 -->
        <div class="service-item">
          <div class="service-item-inner">
            <div class="service-item-front">
              <img
                src="https://storage.googleapis.com/background-vid/services-design.webp?v=1"
                alt="Preload Custom Website Design"
                style="display: none" />
              <svg
                class="service-icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 384 512">
                <path
                  d="M162.4 6c-1.5-3.6-5-6-8.9-6l-19 0c-3.9 0-7.5 2.4-8.9 6L104.9 57.7c-3.2 8-14.6 8-17.8 0L66.4 6c-1.5-3.6-5-6-8.9-6L48 0C21.5 0 0 21.5 0 48L0 224l0 22.4L0 256l9.6 0 364.8 0 9.6 0 0-9.6 0-22.4 0-176c0-26.5-21.5-48-48-48L230.5 0c-3.9 0-7.5 2.4-8.9 6L200.9 57.7c-3.2 8-14.6 8-17.8 0L162.4 6zM0 288l0 32c0 35.3 28.7 64 64 64l64 0 0 64c0 35.3 28.7 64 64 64s64-28.7 64-64l0-64 64 0c35.3 0 64-28.7 64-64l0-32L0 288zM192 432a16 16 0 1 1 0 32 16 16 0 1 1 0-32z"></path>
              </svg>
              <h2>Custom Website Design</h2>
            </div>
            <div class="service-item-back">
              <p>
                Creating unique and tailored website designs to fit your brand.
                We ensure that your website stands out from the competition. Our
                designs are both aesthetically pleasing and highly functional.
              </p>
              <a
                href="services/custom-web-design.html"
                class="more-info-button"
                aria-label="More information about Custom Web Design services"
                >Custom Design details</a
              >
            </div>
          </div>
        </div>

        <!-- Service item 2 -->
        <div class="service-item">
          <div class="service-item-inner">
            <div class="service-item-front">
              <svg
                class="service-icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 640 512">
                <path
                  d="M64 96c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 256-64 0 0-256L128 96l0 256-64 0L64 96zM0 403.2C0 392.6 8.6 384 19.2 384l601.6 0c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8L76.8 480C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z" />
              </svg>
              <h2>Device Responsiveness</h2>
            </div>
            <div class="service-item-back">
              <p>
                Your website will look cohesive across all devices. We optimize
                for mobile, tablet, and desktop compatibility, ensuring seamless
                user experiences in both portrait and landscape orientations for
                all users.
              </p>
              <a
                href="services/responsive-design.html"
                class="more-info-button"
                aria-label="See our mobile first approach"
                >See our mobile first approach</a
              >
            </div>
          </div>
        </div>

        <!-- Service item 3 -->
        <div class="service-item">
          <div class="service-item-inner">
            <div class="service-item-front">
              <svg
                class="service-icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 576 512">
                <path
                  d="M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" />
              </svg>

              <h2>E-commerce Solutions</h2>
            </div>
            <div class="service-item-back">
              <p>
                Building online stores to boost conversions and sales. We
                implement secure payment gateways and user-friendly designs. Our
                solutions are crafted to enhance your revenue and customer
                satisfaction.
              </p>
            </div>
          </div>
        </div>

        <!-- Service item 4 -->
        <div class="service-item">
          <div class="service-item-inner">
            <div class="service-item-front">
              <svg
                class="service-icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 460 512">
                <path
                  d="M220.6 130.3l-67.2 28.2V43.2L98.7 233.5l54.7-24.2v130.3l67.2-209.3zm-83.2-96.7l-1.3 4.7-15.2 52.9C80.6 106.7 52 145.8 52 191.5c0 52.3 34.3 95.9 83.4 105.5v53.6C57.5 340.1 0 272.4 0 191.6c0-80.5 59.8-147.2 137.4-158zm311.4 447.2c-11.2 11.2-23.1 12.3-28.6 10.5-5.4-1.8-27.1-19.9-60.4-44.4-33.3-24.6-33.6-35.7-43-56.7-9.4-20.9-30.4-42.6-57.5-52.4l-9.7-14.7c-24.7 16.9-53 26.9-81.3 28.7l2.1-6.6 15.9-49.5c46.5-11.9 80.9-54 80.9-104.2 0-54.5-38.4-102.1-96-107.1V32.3C254.4 37.4 320 106.8 320 191.6c0 33.6-11.2 64.7-29 90.4l14.6 9.6c9.8 27.1 31.5 48 52.4 57.4s32.2 9.7 56.8 43c24.6 33.2 42.7 54.9 44.5 60.3s.7 17.3-10.5 28.5zm-9.9-17.9c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8 8-3.6 8-8z" />
              </svg>
              <h2>SEO Optimization</h2>
            </div>
            <div class="service-item-back">
              <p>
                Enhancing your website’s visibility on search engines using
                cutting-edge SEO strategies. We aim to increase organic traffic,
                improve rankings, and help attract more visitors to your online
                platform.
              </p>
              <a
                href="services/seo.html"
                class="more-info-button"
                aria-label="Click here for analytics breakdown"
                >See our analytics breakdown</a
              >
            </div>
          </div>
        </div>

        <!-- Service item 5 -->
        <div class="service-item">
          <div class="service-item-inner">
            <div class="service-item-front">
              <svg
                class="service-icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512">
                <path
                  d="M480 32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9L381.7 53c-48 48-113.1 75-181 75l-8.7 0-32 0-96 0c-35.3 0-64 28.7-64 64l0 96c0 35.3 28.7 64 64 64l0 128c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-128 8.7 0c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-147.6c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4L480 32zm-64 76.7L416 240l0 131.3C357.2 317.8 280.5 288 200.7 288l-8.7 0 0-96 8.7 0c79.8 0 156.5-29.8 215.3-83.3z" />
              </svg>

              <h2>Digital Marketing</h2>
            </div>
            <div class="service-item-back">
              <p>
                Designing digital marketing strategies to promote your business
                effectively. Using various online platforms, we target your
                ideal audience to drive engagement, boost traffic, and increase
                conversions.
              </p>
              <a
                href="services/digital-marketing.html"
                class="more-info-button"
                aria-label="Set up a consultation"
                >Set up a consultation</a
              >
            </div>
          </div>
        </div>

        <!-- Service item 6 -->
        <div class="service-item">
          <div class="service-item-inner">
            <div class="service-item-front">
              <svg
                class="service-icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512">
                <path
                  d="M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.6 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0zm0 66.8l0 378.1C394 378 431.1 230.1 432 141.4L256 66.8s0 0 0 0z" />
              </svg>

              <h2>Pagespeed Analytics</h2>
            </div>
            <div class="service-item-back">
              <p>
                Unlock your website’s potential with our PageSpeed Analytics. We
                identify bottlenecks, optimize load times, enhance user
                experiences, and improve search engine rankings to keep visitors
                engaged.
              </p>
              <a
                href="services/pagespeed.html"
                class="more-info-button"
                aria-label="Learn more about our PageSpeed Analytics services"
                >Website speed optimization services</a
              >
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- JOURNEY GUIDANCE SECTION -->
    <section class="journey-section" id="website-guide">
      <div class="journey-section-intro">
        <h1>THE BEST WEB DESIGN FOR SMALL BUSINESSES</h1>
        <hr class="journey-divider" />
        <h2 class="journey-heading">SIMPLIFYING YOUR WEBSITE JOURNEY</h2>
        <h3 class="journey-subheading">
          FIRST STEPS: Don’t know where to start? This is the spot! If you're
          not sure where to look first, this is the section for you.
        </h3>
        <p class="journey-description">
          This section is meant to take the guesswork out of aimlessly scrolling
          and clicking until you find where you need to be. Shopping online for
          services—especially websites or niche products—can be overwhelming,
          especially if you’re not sure what to look for or how to start. That's
          why we've made it easy. Below, you’ll find answers to common questions
          and guidance tailored to your needs. Whether you're a small business
          owner, an entrepreneur, or just someone with an idea, this section
          will help you navigate the process.
        </p>
      </div>
      <div class="journey-grid">
        <div class="journey-card card-1">
          <h4 class="card-title">LOOKING FOR A WEBSITE?</h4>
          <p class="card-description">
            Starting fresh? We specialize in building custom websites that
            reflect your brand and meet your business goals. From design to
            deployment, we’ll guide you through every step. Plus, we offer a
            monthly maintenance plan to handle updates, edits, and ongoing
            upkeep, so your site stays fresh and functional without any hassle.
            <br />
            <a href="#pricing-section" class="page-link">SEE PRICING BELOW</a>
          </p>
        </div>
        <div class="journey-card card-2">
          <h4 class="card-title">NOT HAPPY WITH YOUR CURRENT WEBSITE?</h4>
          <p class="card-description">
            If your current website isn’t performing or doesn’t represent your
            business, let us take a look. We’ll analyze its functionality,
            design, and speed to recommend or implement improvements.
          </p>
        </div>
        <div class="journey-card card-1">
          <h4 class="card-title">UNSURE WHAT YOUR NEEDS ARE?</h4>
          <p class="card-description">
            Whether you need a simple 5-page static website, an extensive
            multi-page platform, an eCommerce store, or a custom portfolio or
            blog, we’ll help you figure out the best type of website for your
            needs—and make it happen. Need more than 5 pages or have unique
            requirements? Let’s talk!
          </p>
        </div>
        <div class="journey-card card-2">
          <h4 class="card-title">DO YOU WANT BETTER SEO AND PAGESPEED?</h4>
          <p class="card-description">
            We use Google PageSpeed Insights, Google Analytics, Google Tag
            Manager, and SEMrush to optimize performance, track user behavior,
            and enhance SEO strategies, ensuring fast load times, data-driven
            insights, and higher search engine rankings.
          </p>
        </div>
        <div class="journey-card card-1">
          <h4 class="card-title">NEED CONTENT UPDATES/MAINTENANCE?</h4>
          <p class="card-description">
            We offer services to create and update your website’s content so it
            always looks fresh and professional.
          </p>
        </div>
        <div class="journey-card card-2">
          <h4 class="card-title">DON'T HAVE A CLEAR VISION YET?</h4>
          <p class="card-description">
            No problem! Check out some our previous projects below. Our
            consultation services will help you uncover your goals and determine
            what your ideal website should look like.
          </p>
        </div>
      </div>
    </section>

    <!-- Portfolio -->
    <section class="portfolio-section" id="portfolio-section">
      <div class="portfolio">
        <div class="section">
          <h2>PORTFOLIO</h2>
          <p>Check out some of our recent projects:</p>
          <p class="mobile-message">[tap image for more details]</p>
          <p class="desktop-message">[hover over image for more details]</p>
          <div class="portfolio-grid">
            <!-- Property Management Website -->
            <div
              class="portfolio-item"
              style="
                background-image: url('https://storage.googleapis.com/background-vid/Portfolio%20Images/pmg-mockup-2.webp');
              ">
              <div class="portfolio-overlay portfolio-overlay-1">
                <h3>Property Management Group</h3>
                <p>
                  This fully functional
                  <strong>property management website</strong> is designed to
                  streamline operations for property managers, landlords, and
                  tenants. Built with a modern, user-friendly interface, it
                  features <strong>20+ pages</strong>, including dedicated
                  sections for
                  <strong
                    >clients, current tenants, and prospective renters</strong
                  >.
                </p>
                <p>
                  Key features include
                  <strong
                    >property listings, online rent payments, maintenance
                    request tracking, a free rental analysis tool, a blog
                    section, and multiple contact forms</strong
                  >. With a <strong>scalable, SEO-optimized foundation</strong>,
                  this template enhances efficiency, improves user experience,
                  and drives conversions.
                </p>
                <p>
                  <a
                    href="https://propertymanagementtemplate1.netlify.app/"
                    target="_blank"
                    class="portfolio-link"
                    >View Live Site</a
                  >
                </p>
              </div>
            </div>

            <!-- Broken Chair Brewery -->
            <div
              class="portfolio-item"
              style="
                background-image: url('https://storage.googleapis.com/background-vid/Portfolio%20Images/BCB-mockup.webp');
              ">
              <div class="portfolio-overlay portfolio-overlay-2">
                <h3>Broken Chair Brewery</h3>
                <p>
                  This <strong>modern brewery website</strong> showcases a
                  family-owned craft brewery with an inviting design and
                  intuitive navigation. It highlights the brewery’s offerings
                  while integrating key interactive features.
                </p>
                <p>
                  Visitors can explore a
                  <strong
                    >beer menu embedded from Untappd, an eCommerce-ready shop
                    page (no active shop), social media links, an event section
                    linking to Facebook events, and a dynamic photo
                    gallery</strong
                  >. With
                  <strong>engaging visuals and seamless functionality</strong>,
                  this site enhances customer interaction and strengthens the
                  brand’s online presence.
                </p>
                <p>
                  <a
                    href="https://www.brokenchairbeer.com/"
                    target="_blank"
                    class="portfolio-link"
                    >View Live Site</a
                  >
                </p>
              </div>
            </div>
            <!-- Lawfirm Site Template 1 -->
            <div
              class="portfolio-item"
              style="
                background-image: url('https://storage.googleapis.com/background-vid/Portfolio%20Images/lawfirm-1.webp');
              ">
              <div class="portfolio-overlay portfolio-overlay-4">
                <h3>Lawfirm</h3>
                <p>
                  This <strong>professional law firm website</strong> offers a
                  clean, structured layout ensuring easy navigation while
                  maintaining the credibility and authority a law firm commands.
                  It provides a direct, no-frills approach, keeping information
                  clear and accessible.
                </p>
                <p>
                  Visitors can explore a
                  <strong>
                    well-organized service overview in the sidebar, an attorney
                    bio section, articles section, and essential legal resources </strong
                  >. <strong>Contact form available upon request.</strong>
                  <strong>A modern yet straightforward design</strong>, this
                  site reinforces professionalism/trust while making it
                  effortless for clients to find the information they need.
                </p>
                <p>
                  <a
                    href="https://keystonewebsolutions.com/proposals/lawfirm-site-1/"
                    target="_blank"
                    class="portfolio-link"
                    >View Live Site</a
                  >
                </p>
              </div>
            </div>

            <!-- Leno -->
            <div
              class="portfolio-item"
              style="
                background-image: url('https://storage.googleapis.com/background-vid/Portfolio%20Images/leno-mockup.webp');
              ">
              <div class="portfolio-overlay portfolio-overlay-3">
                <h3>Leno Website</h3>
                <p>
                  This modern website effectively showcases the
                  <strong>Leno productivity app</strong> with a clean design and
                  intuitive navigation. It provides a seamless user experience
                  while highlighting key app features and benefits.
                </p>
                <p>
                  Visitors can explore
                  <strong
                    >feature breakdowns, user testimonials, interactive
                    previews, and app download links for Apple and
                    Android</strong
                  >. The site also includes
                  <strong
                    >engaging visuals, structured content sections, and social
                    proof elements</strong
                  >. With a sleek layout and responsive design, it enhances user
                  engagement and encourages app downloads.
                </p>
                <!-- <p>
                  <a
                    href="https://your-leno-website-link.com/"
                    target="_blank"
                    class="portfolio-link"
                    >View Live Site</a
                  >
                </p> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- PRICING -->
    <section class="pricing-section" id="pricing-section">
      <h2 class="pricing-heading">PRICING</h2>
      <p class="pricing-description">
        Choose the plan that best suits your needs. Regardless of the pricing
        structure, every plan includes top-notch services to ensure your
        success. <br /><br />
        We know how frustrating it can be when pricing information isn’t clear,
        leaving you to submit contact info so you can wait around for a basic
        idea. That’s why we believe in transparency—it’s always easier to make
        decisions when you have an idea of the kind of investment required.
        <br />
        <br />We offer two payment programs designed to simplify the process of
        building and maintaining your website. Choose an upfront lump sum with
        lower ongoing monthly fees, or opt for a lower upfront cost—and a larger
        monthly fee. With either plan, your website stays with us, ensuring
        seamless updates, maintenance, and cohesion, so you can focus on growing
        your business while we handle the rest.
      </p>

      <div class="pricing-cards-container">
        <!-- Card 1 -->
        <div class="pricing-card pricing-card-1">
          <h2>FOUNDATION PACKAGE</h2>
          <h3>Flat Fee + Monthly Retainer</h3>
          <ul>
            <li><strong>PRICING:</strong> $1,500 + $42.50/month</li>
            <li>Very competitive upfront cost</li>
          </ul>
          <div class="core-services">
            <h4>Core Services:</h4>
            <ul class="checklist">
              <li>High-quality custom design</li>
              <li>Responsive mobile design</li>
              <li>Ongoing SEO improvements</li>
              <li>Unlimited Updates/Site Improvements</li>
              <li>Monthly Performance Review</li>
              <li>Maintenance and security</li>
              <li class="no-symbol">
                <strong>Priority</strong> Support Access - skip the line
              </li>
              <li class="no-symbol">Free redesign after 18 Months</li>
              <li class="no-symbol">Advanced Performance Tracking</li>
            </ul>
            <!-- <a href="pricing" class="pricing-button"
              >FULL PRICING DETAILS</a
            > -->
          </div>
        </div>

        <!-- Card 2 -->
        <div class="pricing-card pricing-card-2">
          <h2>GROWTH PACKAGE</h2>
          <h3>Monthly Subscription</h3>
          <ul>
            <li><strong>PRICING:</strong> $175/mo (6-month commitment)</li>
            <li>Low initial cost - Extra Benefits</li>
          </ul>
          <div class="core-services">
            <h4>Core Services:</h4>
            <ul class="checklist">
              <li>High-quality custom design</li>
              <li>Responsive mobile design</li>
              <li>Ongoing SEO improvements</li>
              <li>Unlimited Updates/Site Improvements</li>
              <li>Maintenance and security</li>
              <li>Monthly Performance Review</li>
              <li><strong>Priority</strong> Support Access - skip the line</li>
              <li>Free redesign after 18 Months</li>
              <li>Advanced Performance Tracking</li>
            </ul>
            <!-- <a href="pricing" class="pricing-button"
              >FULL PRICING DETAILS</a
            > -->
          </div>
        </div>
      </div>

      <div class="added-fees">
        <h4>ADDITIONAL FEES:</h4>
        <!-- Unavoidable Fees -->
        <h5>Mandatory Expenses:</h5>
        <div class="fees-grid">
          <div class="fee-item fee-item-1">
            <strong>DOMAIN REGISTRATION</strong>
            <p>
              A custom domain is essential for a professional online presence,
              making it easy for users to find and identify your website. Costs
              can vary widely depending on the domain name you choose:
            </p>
            <br />
            <p>
              <strong>Premium Domains:</strong> Highly sought-after domain
              names, especially short or one-word domains, tend to command a
              higher price due to their memorability and brand appeal. Standard
              extensions like .com and .co are often considered more
              authoritative and universally recognized, making them a premium
              choice. However, unique extensions (e.g., .ai, .design, or .io)
              can also be appealing for specific industries or audiences. Costs
              for premium domains can range from $50 to thousands of dollars
              upfront, depending on demand, exclusivity, and availability.
            </p>
            <br />
            <p>
              <strong>Renewal Costs:</strong> Domain registration requires
              ongoing annual renewal. While standard domains renew at
              predictable rates, premium domains often come with higher renewal
              fees.
            </p>
            <br />
            <p>
              Investing in the right domain ensures your website is memorable,
              aligns with your brand identity, and enhances your credibility
              online.
            </p>
          </div>

          <div class="fee-item fee-item-2">
            <strong>HOSTING FEES</strong>
            <p>
              Netlify provides FREE hosting for most small websites, covering
              125GB of bandwidth and 300 build minutes per month under its free
              tier. This is an excellent option for low-traffic sites or those
              with minimal update needs.
            </p>
            <br />

            <p>
              However, additional costs may apply if usage exceeds these limits:
            </p>
            <ul class="overages">
              <li>Bandwidth Overages: $20 per extra 100GB.</li>
              <li>Build Minutes Overages: $7 per additional 500 minutes.</li>
            </ul>

            <br />
            <p>
              Monitoring your website’s traffic and build activity helps you
              avoid unexpected charges. While the free tier suits many small
              businesses, scaling up to meet higher demands may require
              budgeting for overages or considering a paid plan.
            </p>
            <p>
              Netlify’s hosting infrastructure ensures high performance,
              reliability, and secure deployments, making it a robust choice for
              hosting your website while accommodating future growth. Its
              cost-effective pricing structure makes it a great option for
              businesses of all sizes.
            </p>
          </div>
        </div>

        <!-- Optional Fees -->
        <h5>Optional Services and Products:</h5>
        <div class="fees-grid">
          <div class="fee-item fee-item-3">
            <strong>ASSET PROCUREMENT</strong>
            <p>
              Includes purchasing stock images, fonts, or videos. Estimated
              cost: $10-$100 per item.
            </p>
          </div>
          <div class="fee-item fee-item-3">
            <strong>BLOG CREATION + UPDATES</strong>
            <p>
              Includes setting up and maintaining a blog. Estimated cost:
              $50-$150 for creation, $20-$50 per update.
            </p>
          </div>
          <div class="fee-item fee-item-3">
            <strong>NEW PAGES (AFTER 5)</strong>
            <p>
              Additional pages beyond the initial 5 included in the package.
              $100 per page.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- GET A QUOTE -->
    <section class="quote-section" id="quote-section">
      <h2 class="quote-section-heading">GET A QUOTE</h2>
      <div class="quote-cards-container">
        <!-- Submission form and contact -->
        <div class="quote-card quote-card-1">
          <form
            action="https://formspree.io/f/mnnnobvp"
            method="post"
            class="submission-form">
            <div class="form-row">
              <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required />
              </div>
              <div class="form-group">
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" name="phone" required />
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required />
              </div>
              <div class="form-group">
                <label for="budget">Budget:</label>
                <select id="budget" name="budget" required>
                  <option value="" disabled selected>Select your budget</option>
                  <option value="under-1000">$0 - $1,000</option>
                  <option value="1000-2000">$1,000 - $2,000</option>
                  <option value="2000-5000">$2,000 - $5,000</option>
                  <option value="5000-10000">$5,000 - $10,000</option>
                  <option value="over-10000">Over $10,000</option>
                </select>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="message">Message:</label>
                  <textarea
                    id="message"
                    name="message"
                    rows="4"
                    required
                    placeholder="Please describe your project needs. For example: Website redesign, E-commerce functionality, SEO optimization, Mobile responsiveness, Custom features"></textarea>
                </div>
              </div>
            </div>

            <button class="submit-button" type="submit">Get a quote</button>
          </form>
          <h3 class="quote-card-heading">get in touch</h3>
          <p>
            Please fill out the above form if your inquiry fits within those
            parameters. Otherwise, drop a line and we'll get back to you within
            24 hours.
          </p>
          <ul class="quote-card-list contact-info">
            <li>
              <a
                href="tel:+1 717-306-9803"
                style="text-decoration: none; color: inherit">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 512 512"
                  class="icon">
                  <path
                    d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z" />
                </svg>
                717-306-9803
              </a>
            </li>
            <li>
              <a
                href="mailto:dan@keystonewebsolutions.com"
                style="text-decoration: none; color: inherit">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 512 512"
                  class="icon">
                  <path
                    d="M64 112c-8.8 0-16 7.2-16 16l0 22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1l0-22.1c0-8.8-7.2-16-16-16L64 112zM48 212.2L48 384c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-171.8L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64l384 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128z" />
                </svg>
                dan@keystonewebsolutions.com
              </a>
            </li>
          </ul>
        </div>

        <!-- gameplan -->
        <div class="quote-card quote-card-2">
          <h3 class="quote-card-heading">Gameplan</h3>
          <ul class="info-list">
            <li>
              <h4>Submit Your Info</h4>
              <p>Fill out the form with your details and requirements.</p>
            </li>
            <li>
              <h4>Preliminary Call</h4>
              <p>
                I will reach out to schedule a preliminary call to discuss your
                goals and expectations.
              </p>
            </li>
            <li>
              <h4>Meeting to Discuss Implementation</h4>
              <p>
                We will have a detailed meeting to discuss the implementation
                plan and timeline.
              </p>
            </li>
            <li>
              <h4>We Get to Work</h4>
              <p>
                Our team starts working on your project, keeping you updated on
                the progress.
              </p>
            </li>
            <li>
              <h4>Proofs & Revisions</h4>
              <p>
                We provide proofs and conduct workshops for revisions to ensure
                everything meets your expectations.
              </p>
            </li>
            <li>
              <h4>Monthly Reporting</h4>
              <p>
                Receive monthly reports including PageSpeed Insights and SEO
                analytics to track the performance and improvements.
              </p>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->

    <!-- New Footer -->
    <div id="footer-container"></div>

    <!-- SCRIPTS -->
    <script src="js/dynamic-path.js"></script>
    <script src="js/scripts.js" defer></script>
    <script src="js/mobile-menu.js" defer></script>
    <!-- Top left phone # @ 935px width -->
    <script>
      function checkWidth() {
        var phoneDisplay = document.querySelector('.responsive-phone-num');
        if (window.innerWidth <= 935) {
          phoneDisplay.style.display = 'block';
        } else {
          phoneDisplay.style.display = 'none';
        }
      }

      // Run on page load
      window.addEventListener('load', checkWidth);

      // Run on window resize
      window.addEventListener('resize', checkWidth);
    </script>
    <!-- Hero line graph interactive bg -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script>
      // Wait for the DOM to be fully loaded
      document.addEventListener('DOMContentLoaded', function () {
        // Generate data with a consistent bottom-left to top-right progression and angle changes
        function generateGrowthData() {
          const data = [];
          // Calculate how many points we need based on container width
          const container = document.getElementById('line-graph-container');
          const containerWidth = container.clientWidth;

          // Segment width
          const totalPoints = 20; // Fixed number of points

          // Starting at bottom, ending at top
          const startValue = 10;
          const endValue = 90;

          // Predefined angle changes
          const angleChanges = [
            { point: 4, shift: 5 }, // First slight angle up
            { point: 8, shift: -3 }, // Slight angle down
            { point: 12, shift: 4 }, // Another angle up
            { point: 16, shift: -2 }, // Final slight angle down
          ];

          // Create the line data
          for (let i = 0; i < totalPoints; i++) {
            // Linear interpolation from start to end
            const progress = i / (totalPoints - 1);
            const baseValue = startValue + (endValue - startValue) * progress;

            // Apply angle changes
            let angleShift = 0;
            angleChanges.forEach((change) => {
              if (i === change.point) {
                angleShift = change.shift;
              }
            });

            data.push({
              x: i,
              y: baseValue + angleShift,
            });
          }

          return data;
        }

        const data = generateGrowthData();

        // Get dimensions of the container
        const container = document.getElementById('line-graph-container');
        const width = container.clientWidth;
        const height = container.clientHeight;

        // Create SVG
        const svg = d3
          .select('#line-graph-container')
          .append('svg')
          .attr('width', width)
          .attr('height', height)
          .attr('viewBox', `0 0 ${width} ${height}`)
          .append('g');

        // Set up scales with minimal padding
        const x = d3
          .scaleLinear()
          .domain([0, data.length - 1])
          .range([0, width]);

        const y = d3
          .scaleLinear()
          .domain([
            Math.min(
              0,
              d3.min(data, (d) => d.y)
            ),
            d3.max(data, (d) => d.y),
          ])
          .nice() // This helps to remove unnecessary padding
          .range([height, 0]);

        // Create line generator with linear segments
        const line = d3
          .line()
          .x((d) => x(d.x))
          .y((d) => y(d.y))
          .curve(d3.curveLinear); // Sharp angular changes

        // Draw line
        svg
          .append('path')
          .datum(data)
          .attr('class', 'chart-line')
          .attr('d', line);

        // Create a tracking dot with smooth animation
        const trackingDot = svg
          .append('circle')
          .attr('class', 'tracking-dot')
          .attr('r', 5)
          .style('opacity', 0);

        // Current target positions for the dot
        let targetX = 0;
        let targetY = 0;
        // Current actual positions
        let currentX = 0;
        let currentY = 0;

        // Animation speed (lower = slower, smoother)
        const animationSpeed = 0.15;

        // Animation function
        function animateDot() {
          // Only animate if the dot is visible
          if (parseFloat(trackingDot.style('opacity')) > 0) {
            // Calculate distance to target
            const dx = targetX - currentX;
            const dy = targetY - currentY;

            // Move a fraction of the way to the target (easing)
            currentX += dx * animationSpeed;
            currentY += dy * animationSpeed;

            // Update dot position
            trackingDot.attr('cx', currentX).attr('cy', currentY);
          }

          // Call the next animation frame
          requestAnimationFrame(animateDot);
        }

        // Start the animation loop
        animateDot();

        // Tracking function for mouse movement
        function trackMousePosition(event) {
          // Get the SVG's bounding rectangle
          const svgRect = container
            .querySelector('svg')
            .getBoundingClientRect();

          // Calculate mouse position relative to SVG
          const mouseX = event.clientX - svgRect.left;
          const mouseY = event.clientY - svgRect.top;

          // Check if mouse is within SVG bounds
          if (
            mouseX >= 0 &&
            mouseX <= width &&
            mouseY >= 0 &&
            mouseY <= height
          ) {
            const relativeX = mouseX / width;
            const clampedX = Math.max(0, Math.min(1, relativeX));
            const dataIndex = Math.round(clampedX * (data.length - 1));
            const dataPoint = data[dataIndex];

            if (dataPoint) {
              // Set the target position instead of immediately updating
              targetX = x(dataPoint.x);
              targetY = y(dataPoint.y);

              // If the dot is initially hidden, set its position first to avoid a long animation from (0,0)
              if (parseFloat(trackingDot.style('opacity')) === 0) {
                currentX = targetX;
                currentY = targetY;
                trackingDot.attr('cx', currentX).attr('cy', currentY);
              }

              // Show the dot
              trackingDot.style('opacity', 1);
            }
          } else {
            // Hide the dot if outside SVG bounds
            trackingDot.style('opacity', 0);
          }
        }

        // Add global mouse tracking
        document.addEventListener('mousemove', trackMousePosition);

        // Handle window resize
        window.addEventListener('resize', function () {
          // Generate new data for new width
          const newData = generateGrowthData();

          const width = container.clientWidth;
          const height = container.clientHeight;

          // Update SVG size
          d3.select('#line-graph-container svg')
            .attr('width', width)
            .attr('height', height)
            .attr('viewBox', `0 0 ${width} ${height}`);

          // Update scales with minimal padding
          x.domain([0, newData.length - 1]).range([0, width]);
          y.domain([
            Math.min(
              0,
              d3.min(newData, (d) => d.y)
            ),
            d3.max(newData, (d) => d.y),
          ])
            .nice()
            .range([height, 0]);

          // Update line with new data
          svg.select('.chart-line').datum(newData).attr('d', line);

          // Store the new data for tracking dot
          data.length = 0;
          newData.forEach((point) => data.push(point));
        });
      });
    </script>
    <!-- Apex Charts library & half gauge -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script>
      // Function to initialize the gauges
      function initializeGauges() {
        // Check if first card is active (visible)
        if (
          document.getElementById('nav-card-1') &&
          document.getElementById('nav-card-1').classList.contains('active')
        ) {
          // Our Site gauge options
          var ourSiteOptions = {
            series: [99],
            chart: {
              type: 'radialBar',
              offsetY: -20,
              sparkline: {
                enabled: true,
              },
            },
            plotOptions: {
              radialBar: {
                startAngle: -90,
                endAngle: 90,
                track: {
                  background: '#333333',
                  strokeWidth: '97%',
                  margin: 5,
                  dropShadow: {
                    enabled: true,
                    top: 2,
                    left: 0,
                    color: '#000',
                    opacity: 0.2,
                    blur: 2,
                  },
                },
                dataLabels: {
                  name: {
                    show: false,
                  },
                  value: {
                    offsetY: -2,
                    fontSize: '22px',
                    color: '#5DADE2',
                    fontWeight: 'bold',
                  },
                },
                hollow: {
                  margin: 0,
                  size: '50%',
                },
              },
            },
            grid: {
              padding: {
                top: -10,
              },
            },
            fill: {
              type: 'gradient',
              gradient: {
                shade: 'light',
                shadeIntensity: 0.4,
                gradientToColors: ['#5DADE2'],
                inverseColors: false,
                opacityFrom: 0.9,
                opacityTo: 0.9,
                stops: [0, 50, 53, 91],
              },
            },
            colors: ['#5DADE2'],
            labels: ['Our Site'],
          };

          // Competitor gauge options
          var competitorOptions = {
            series: [92],
            chart: {
              type: 'radialBar',
              offsetY: -20,
              sparkline: {
                enabled: true,
              },
            },
            plotOptions: {
              radialBar: {
                startAngle: -90,
                endAngle: 90,
                track: {
                  background: '#333333',
                  strokeWidth: '97%',
                  margin: 5,
                  dropShadow: {
                    enabled: true,
                    top: 2,
                    left: 0,
                    color: '#000',
                    opacity: 0.2,
                    blur: 2,
                  },
                },
                dataLabels: {
                  name: {
                    show: false,
                  },
                  value: {
                    offsetY: -2,
                    fontSize: '22px',
                    color: '#E74C3C',
                    fontWeight: 'bold',
                  },
                },
                hollow: {
                  margin: 0,
                  size: '50%',
                },
              },
            },
            grid: {
              padding: {
                top: -10,
              },
            },
            fill: {
              type: 'gradient',
              gradient: {
                shade: 'light',
                shadeIntensity: 0.4,
                gradientToColors: ['#E74C3C'],
                inverseColors: false,
                opacityFrom: 0.9,
                opacityTo: 0.9,
                stops: [0, 50, 53, 91],
              },
            },
            colors: ['#E74C3C'],
            labels: ['Top 10% Sites'],
          };

          // Clear previous charts if they exist
          document.getElementById('our-site-chart').innerHTML = '';
          document.getElementById('competitor-chart').innerHTML = '';

          // Render the charts
          var ourSiteChart = new ApexCharts(
            document.getElementById('our-site-chart'),
            ourSiteOptions
          );
          var competitorChart = new ApexCharts(
            document.getElementById('competitor-chart'),
            competitorOptions
          );

          ourSiteChart.render();
          competitorChart.render();
        }
      }

      // Initialize gauges when page loads
      document.addEventListener('DOMContentLoaded', function () {
        setTimeout(initializeGauges, 500);

        // Initialize gauges when nav items are clicked
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach((item) => {
          item.addEventListener('click', function () {
            if (item.getAttribute('data-target') === 'nav-card-1') {
              setTimeout(initializeGauges, 300);
            }
          });
        });
      });

      // Also run immediately if DOM is already loaded
      if (
        document.readyState === 'complete' ||
        document.readyState === 'interactive'
      ) {
        setTimeout(initializeGauges, 500);
      }
    </script>
  </body>
</html>
